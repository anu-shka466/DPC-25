#include <iostream>
using namespace std;

int findDuplicate(int arr[], int n) {
        int low = 1, high = n;
            int duplicate = -1;

                while (low <= high) {
                            int mid = (low + high) / 2;

                                    // Count how many numbers are <= mid
                                            int count = 0;
                                                    for (int i = 0; i <= n; i++) {
                                                                    if (arr[i] <= mid) count++;
                                                    }

                                                            if (count > mid) {
                                                                            duplicate = mid;
                                                                                        high = mid - 1;   // search in left half
                                                            } else {
                                                                            low = mid + 1;    // search in right half
                                                            }
                }

                    return duplicate;
}

int main() {
        int n;
            cout << "Enter n (array will have n+1 elements): ";
                cin >> n;

                    int arr[n + 1];
                        cout << "Enter " << n + 1 << " elements (range 1 to " << n << "): ";
                            for (int i = 0; i <= n; i++) {
                                        cin >> arr[i];
                            }

                                cout << "Duplicate number: " << findDuplicate(arr, n) << endl;

                                    return 0;
}
                            

                                                            
                                                            
                                                    
                
